<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa Interactivo - División de la Provincia de Buenos Aires</title>
    
    <!-- 
    FUNCIONALIDADES PRINCIPALES DE LA PÁGINA:
    1. Mapa interactivo con capa base oficial de Argentina (IGN) en escala de grises
    2. Representación correcta de la soberanía argentina en Malvinas
    3. Carga de departamentos desde PBA.geojson con campos "cde" y "nam"
    4. Sistema de división provincial mediante cajas de colores con paleta armónica
    5. Drag & drop de departamentos entre listado y divisiones
    6. Control dinámico del número de divisiones (1-10)
    7. Reset completo del estado
    8. Departamentos sin color cuando están en el listado, con color cuando están en divisiones
    9. Distribución en tres columnas: mapa | divisiones | listado
    10. Tabla comparativa dinámica que muestra cantidad de partidos por división
    11. Contador de departamentos restantes en listado
    12. Destacado visual de departamentos del Gran Buenos Aires
    -->
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <!-- SortableJS para drag & drop -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Mapa Interactivo - División de la Provincia de Buenos Aires</h1>
        
        <!-- Controles principales -->
        <div class="controls">
            <button id="reset-btn" class="reset-button">Reestablecer valores</button>
            <div class="division-control">
                <label for="division-count">Número de divisiones:</label>
                <select id="division-count">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3" selected>3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                </select>
            </div>
        </div>
        
        <!-- 
        DISTRIBUCIÓN EN TRES COLUMNAS:
        - Mapa a la izquierda (aproximadamente 60% del ancho)
        - Divisiones en el centro (aproximadamente 20% del ancho) 
        - Listado a la derecha (aproximadamente 20% del ancho)
        -->
        <div class="main-content">
            <!-- Columna 1: Mapa -->
            <div id="map-container">
                <div id="map"></div>
            </div>
            
            <!-- Columna 2: Divisiones de la provincia -->
            <div class="divisions-column">
                <h3>Divisiones de la Provincia</h3>
                <div id="division-boxes-container" class="groups-container">
                    <!-- Las cajas de división se generan aquí mediante JavaScript -->
                </div>
            </div>
            
            <!-- Columna 3: Listado de departamentos -->
            <div class="list-column">
                <h3>Listado de Departamentos 
                    <span class="count-info">(Total: <span id="dept-count">0</span> | Restantes: <span id="dept-remaining-count">0</span>)</span>
                </h3>
                <div id="all-departments-list" class="departments-list"></div>
            </div>
        </div>
        
        <!-- 
        TABLA COMPARATIVA:
        - Se ubica debajo de las tres columnas principales
        - Muestra estadísticas comparativas entre divisiones
        - Se actualiza automáticamente cuando cambian las divisiones
        -->
        <div class="comparison-section">
            <h3>Comparación entre Divisiones</h3>
            <div class="table-container">
                <table id="comparison-table">
                    <thead>
                        <tr>
                            <th>Variable</th>
                            <!-- Las columnas de divisiones se generan dinámicamente -->
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Las filas de datos se generan dinámicamente -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>
